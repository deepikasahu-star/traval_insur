<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Simple Shopping Website â€“ Demo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- ===================================================== -->
  <!-- ðŸ”¹ STEP 1: ADD GTM HEAD SNIPPET BELOW THIS COMMENT ðŸ”¹ -->
  <!-- Content type: <script> Google Tag Manager HEAD code -->
  <!-- Replace GTM-XXXXXXX with your GTM Container ID -->
  <!-- ===================================================== -->
  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-5Z3DN3XG');</script>
  <!-- End Google Tag Manager -->

  <!-- ===================================================== -->
  <!-- ðŸ”¹ OPTIONAL: GA4 HARD-CODED TAG (FOR PRACTICE)         -->
  <!-- Remove this block if GA4 is implemented via GTM       -->
  <!-- ===================================================== -->
  <!-- Replace G-XXXXXXXXXX with your GA4 Measurement ID -->
  <!-- <script async src="https://www.googletagmanager.com/gtag/js?id=G-XXXXXXXXXX"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}    
    gtag('js', new Date());
    gtag('config', 'G-XXXXXXXXXX');
  </script> -->

  <style>
    body { font-family: Arial, sans-serif; margin:0; background:#f4f6f9; }
    header { background:#198754; color:#fff; padding:16px; text-align:center; }
    .container { max-width:900px; margin:30px auto; background:#fff; padding:20px; border-radius:8px; }
    .products { display:grid; grid-template-columns: repeat(auto-fit, minmax(200px,1fr)); gap:20px; }
    .product { border:1px solid #ddd; padding:16px; border-radius:6px; text-align:center; }
    .product h3 { margin:10px 0; }
    button { background:#198754; color:#fff; border:none; padding:10px; width:100%; cursor:pointer; }
    button:hover { background:#146c43; }
    .hidden { display:none; }
    input { width:100%; padding:8px; margin-top:8px; }
  </style>
</head>
<body>

<!-- ===================================================== -->
<!-- ðŸ”¹ STEP 2: ADD GTM BODY (NOSCRIPT) SNIPPET HERE ðŸ”¹ -->
<!-- Content type: <noscript><iframe> Google Tag Manager -->
<!-- Replace GTM-XXXXXXX with your GTM Container ID -->
<!-- ===================================================== -->
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5Z3DN3XG"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->
<header>
  <h1>Simple Shopping Store</h1>
</header>

<!-- ================= PRODUCT LIST PAGE ================= -->
<div class="container" id="productPage">
  <h2>Products</h2>
  <div class="products">
    <div class="product">
      <h3>T-Shirt</h3>
      <p>Price: â‚¹499</p>
      <!-- ðŸ”¹ Event: add_to_cart -->
      <button onclick="addToCart('T-Shirt',499)">Add to Cart</button>
    </div>
    <div class="product">
      <h3>Shoes</h3>
      <p>Price: â‚¹1,999</p>
      <button onclick="addToCart('Shoes',1999)">Add to Cart</button>
    </div>
    <div class="product">
      <h3>Backpack</h3>
      <p>Price: â‚¹1,299</p>
      <button onclick="addToCart('Backpack',1299)">Add to Cart</button>
    </div>
  </div>
</div>

<!-- ================= CART PAGE ================= -->
<div class="container hidden" id="cartPage">
  <h2>Cart</h2>
  <p id="cartItems"></p>
  <!-- ðŸ”¹ Event: begin_checkout -->
  <button onclick="goToCheckout()">Checkout</button>
</div>

<!-- ================= CHECKOUT PAGE ================= -->
<div class="container hidden" id="checkoutPage">
  <h2>Checkout</h2>

  <label>Name</label>
  <input type="text" id="custName" placeholder="Enter name" />

  <label>Email</label>
  <input type="email" placeholder="Enter email" />

  <label>Address</label>
  <input type="text" placeholder="Enter address" />

  <!-- ðŸ”¹ Event: purchase -->
  <button onclick="purchase()">Place Order</button>
</div>

<!-- ================= ORDER CONFIRMATION ================= -->
<div class="container hidden" id="confirmationPage">
  <h2>Order Confirmed âœ…</h2>
  <p>Thank you for your purchase.</p>
</div>

<script>
  let cart = [];

  function addToCart(product, price) {
    cart.push({product, price});

    // Hard-coded GA4 event (optional)
    gtag('event', 'add_to_cart', {
      item_name: product,
      value: price,
      currency: 'INR'
    });

    alert(product + ' added to cart');
  }

  function goToCheckout() {
    document.getElementById('productPage').classList.add('hidden');
    document.getElementById('cartPage').classList.remove('hidden');

    gtag('event', 'begin_checkout', {
      items: cart.length
    });

    document.getElementById('cartItems').innerText = 'Items in cart: ' + cart.length;
  }

  function purchase() {
    document.getElementById('cartPage').classList.add('hidden');
    document.getElementById('checkoutPage').classList.add('hidden');
    document.getElementById('confirmationPage').classList.remove('hidden');

    gtag('event', 'purchase', {
      transaction_id: 'T' + Date.now(),
      value: cart.reduce((sum, i) => sum + i.price, 0),
      currency: 'INR'
    });
  }
</script>

</body>
</html>
